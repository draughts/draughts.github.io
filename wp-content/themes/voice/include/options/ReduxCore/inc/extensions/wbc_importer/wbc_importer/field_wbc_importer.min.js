(function(e){"use strict";e.redux=e.redux||{};e(document).ready(function(){e.redux.wbc_importer()});e.redux.wbc_importer=function(){e(".wrap-importer.theme.not-imported, #wbc-importer-reimport").unbind("click").on("click",function(e){e.preventDefault();var t=jQuery(this);var n=false;var r="Import Demo Content?";if(e.target.id=="wbc-importer-reimport"){n=true;r="Re-Import Content?";if(!jQuery(this).hasClass("rendered")){t=jQuery(this).parents(".wrap-importer")}}if(t.hasClass("imported")&&n==false)return;var i=confirm(r);if(i==false)return;if(n==true){t.removeClass("active imported").addClass("not-imported")}t.find(".spinner").css("display","inline-block");t.removeClass("active imported");t.find(".importer-button").hide();var s=jQuery(this).data();s.action="redux_wbc_importer";s.demo_import_id=t.attr("data-demo-id");s.nonce=t.attr("data-nonce");s.type="import-demo-content";s.wbc_import=n==true?"re-importing":" ";t.find(".wbc_image").css("opacity","0.5");jQuery.post(ajaxurl,s,function(e){t.find(".wbc_image").css("opacity","1");t.find(".spinner").css("display","none");if(e.length>0&&e.match(/Have fun!/gi)){if(n==false){t.addClass("rendered").find(".wbc-importer-buttons .importer-button").removeClass("import-demo-data");var r='<div id="wbc-importer-reimport" class="wbc-importer-buttons button-primary import-demo-data importer-button">Re-Import</div>';t.find(".theme-actions .wbc-importer-buttons").append(r)}t.find(".importer-button:not(#wbc-importer-reimport)").removeClass("button-primary").addClass("button").text("Imported").show();t.find(".importer-button").attr("style","");t.addClass("imported active").removeClass("not-imported")}else{t.find(".import-demo-data").show();if(n==true){t.find(".importer-button:not(#wbc-importer-reimport)").removeClass("button-primary").addClass("button").text("Imported").show();t.find(".importer-button").attr("style","");t.addClass("imported active").removeClass("not-imported")}alert("There was an error importing demo content: \n\n"+e.replace(/(<([^>]+)>)/gi,""))}});return false})}})(jQuery)